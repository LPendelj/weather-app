<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Luka's Weather App
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" *ngIf="res">

  <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>


  <div class="main" *ngIf="res.current">
    <span class="city">Belgrade</span>
    <span class="date">{{res.current.dt | dateFormatting}}</span>

    <div class="icon">
      <img src="../../assets/icon/{{res.current.weather[0].icon}}.png" alt="icon">
    </div>

    <span class="description">{{res?.current.weather[0].main}}</span>
    <span class="temperature">{{res.current.temp | number: '1.0-0'}}<sup>o</sup>c</span>

  </div>

  <ion-grid *ngIf="res.daily">
  <ion-row>
    <ion-col class="day">{{res.daily[0].dt | day}}</ion-col>
    <ion-col class="day">{{res.daily[1].dt | day}}</ion-col>
    <ion-col class="day">{{res.daily[2].dt | day}}</ion-col>
    <ion-col class="day">{{res.daily[3].dt | day}}</ion-col>
    <ion-col class="day">{{res.daily[4].dt | day}}</ion-col>
    <ion-col class="day">{{res.daily[5].dt | day}}</ion-col>
    <ion-col class="day">{{res.daily[6].dt | day}}</ion-col>
  </ion-row>

  <ion-row *ngIf="res.daily">
    <ion-col class="icon-sm icon" *ngFor="let item of daysList; let i = index"><img src="../../assets/icon/{{res.daily[i].weather[0].icon}}.png" alt="icon"></ion-col>
  </ion-row>

  <ion-row>
    <ion-col class="hi-sm">{{res.daily[0].temp.max | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="hi-sm">{{res.daily[1].temp.max | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="hi-sm">{{res.daily[2].temp.max | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="hi-sm">{{res.daily[3].temp.max | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="hi-sm">{{res.daily[4].temp.max | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="hi-sm">{{res.daily[5].temp.max | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="hi-sm">{{res.daily[6].temp.max | number: '1.0-0'}}<sup>o</sup>c</ion-col>
  </ion-row>

  <ion-row>
    <ion-col class="lo-sm">{{res.daily[0].temp.min | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="lo-sm">{{res.daily[1].temp.min | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="lo-sm">{{res.daily[2].temp.min | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="lo-sm">{{res.daily[3].temp.min | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="lo-sm">{{res.daily[4].temp.min | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="lo-sm">{{res.daily[5].temp.min | number: '1.0-0'}}<sup>o</sup>c</ion-col>
    <ion-col class="lo-sm">{{res.daily[6].temp.min | number: '1.0-0'}}<sup>o</sup>c</ion-col>
  </ion-row>

</ion-grid>

</ion-content>
